<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Make a wrapper function — make_wrapper • redoc</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>



  <link href="../extra.css" rel="stylesheet">
  

<meta property="og:title" content="Make a wrapper function — make_wrapper" />
<meta property="og:description" content="Wrapper functions are passed to the wrapper= argument of
redoc() to specify what text in R Markdown files should be
captured and restored when de-rendering (in addition to code chunks, inline
code, and YAML blocks).  make_wrapper() simplifies creation of these
wrapper functions and returns a function that can be passed to redoc().
Wrappers included in the package, all of which are used by default, are:

Type of markupFunctionLabelType
HTML Commentshtmlcommentwrap()&quot;htmlcomment&quot;inline
Single-line LaTeXlatexwrap()&quot;latex&quot;block
Pandoc citationscitationwrap()&quot;citation&quot;inline
Raw Blocksrawblockwrap()&quot;rawblock&quot;block
Raw Spansrawspanwrap()&quot;rawspan&quot;inline


" />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-inverse navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">redoc</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.1.0.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../articles/mixed-workflows-with-redoc.html">Usage</a>
</li>
<li>
  <a href="../articles/redoc-package-design.html">Package Design</a>
</li>
<li>
  <a href="../CONTRIBUTING.html">Contributing</a>
</li>
<li>
  <a href="../news/index.html">Release Notes</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../CODE_OF_CONDUCT.html">Code of Conduct</a>
</li>
<li>
  <a href="https://github.com/noamross/redoc">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Make a wrapper function</h1>
    <small class="dont-index">Source: <a href='https://github.com/noamross/redoc/blob/master/R/wrappers.R'><code>R/wrappers.R</code></a></small>
    <div class="hidden name"><code>make_wrapper.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Wrapper functions are passed to the <code>wrapper=</code> argument of
<code><a href='redoc.html'>redoc()</a></code> to specify what text in R Markdown files should be
captured and restored when de-rendering (in addition to code chunks, inline
code, and YAML blocks).  <code>make_wrapper()</code> simplifies creation of these
wrapper functions and returns a function that can be passed to <code><a href='redoc.html'>redoc()</a></code>.</p>
<p>Wrappers included in the package, all of which are used by default, are:</p>
<table class='table'>
<tr><td><strong>Type of markup</strong></td><td><strong>Function</strong></td><td><strong>Label</strong></td><td><strong>Type</strong></td></tr>
<tr><td>HTML Comments</td><td><code>htmlcommentwrap()</code></td><td><code>"htmlcomment"</code></td><td>inline</td></tr>
<tr><td>Single-line LaTeX</td><td><code>latexwrap()</code></td><td><code>"latex"</code></td><td>block</td></tr>
<tr><td>Pandoc citations</td><td><code>citationwrap()</code></td><td><code>"citation"</code></td><td>inline</td></tr>
<tr><td>Raw Blocks</td><td><code>rawblockwrap()</code></td><td><code>"rawblock"</code></td><td>block</td></tr>
<tr><td>Raw Spans</td><td><code>rawspanwrap()</code></td><td><code>"rawspan"</code></td><td>inline</td></tr>
</table>


    </div>

    <pre class="usage"><span class='fu'>make_wrapper</span>(<span class='no'>label</span>, <span class='no'>regex</span>, <span class='kw'>type</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='st'>"block"</span>, <span class='st'>"inline"</span>))</pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>label</th>
      <td><p>the label to use for chunks of this type, e.g., "citation", "table".
These should be unique for each type of wrapper used. <code><a href='redoc.html'>redoc()</a></code>
will throw an error otherwise.</p></td>
    </tr>
    <tr>
      <th>regex</th>
      <td><p>A regular expression that identifies the text to be wrapped and
restored, including all delimiters.  It will search in a single string with
line breaks.  <a href='https://rdrr.io/pkg/stringi/man/stringi-search-regex.html'>ICU regular expressions</a> are used.
The <code>(?s)</code> flag is recommended for multi-line expressions.</p></td>
    </tr>
    <tr>
      <th>type</th>
      <td><p>whether the text should be treated as inline or block text. Inlines
are wrapped in <code>span</code> elements and blocks are wrapped in <code>divs</code>.  These are
treated differently in several ways, especially when restoring text in <code><a href='dedoc.html'>dedoc()</a></code>.</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>A function of class <code>redoc_wrapper</code></p>
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>Some captured text can not be selected by regular expressions, in which case
custom functions can be provided to parse out the relevant text. See the vignette "Developing
with redoc" for more detail.</p>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'>
<span class='kw pkg'>rmarkdown</span><span class='kw ns'>::</span><span class='fu'><a href='https://rdrr.io/pkg/rmarkdown/man/render.html'>render</a></span>(
    <span class='fu'><a href='redoc_examples.html'>redoc_example_rmd</a></span>(),
    <span class='kw'>output_format</span> <span class='kw'>=</span> <span class='fu'><a href='redoc.html'>redoc</a></span>(
                      <span class='kw'>wrappers</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span>(
                        <span class='no'>htmlcommentwrap</span>,
                        <span class='no'>latexwrap</span>)))</div><div class='output co'>#&gt; <span class='message'></span>
#&gt; <span class='message'></span>
#&gt; <span class='message'>processing file: example.preprocessed.Rmd</span></div><div class='output co'>#&gt;   |                                                                              |                                                                      |   0%  |                                                                              |..........                                                            |  14%
#&gt;    inline R code fragments
#&gt; 
#&gt;   |                                                                              |....................                                                  |  29%
#&gt; label: cars
#&gt;   |                                                                              |..............................                                        |  43%
#&gt;   ordinary text without R code
#&gt; 
#&gt;   |                                                                              |........................................                              |  57%
#&gt; label: unnamed-chunk-1 (with options) 
#&gt; List of 1
#&gt;  $ include: logi FALSE
#&gt; 
#&gt;   |                                                                              |..................................................                    |  71%
#&gt;    inline R code fragments
#&gt; 
#&gt;   |                                                                              |............................................................          |  86%
#&gt; label: pressure (with options) 
#&gt; List of 1
#&gt;  $ dev.args: language list(bg = "transparent")
#&gt; </div><div class='output co'>#&gt;   |                                                                              |......................................................................| 100%
#&gt;   ordinary text without R code
#&gt; 
#&gt; </div><div class='output co'>#&gt; <span class='message'>output file: example.knit.md</span></div><div class='output co'>#&gt; /usr/bin/pandoc +RTS -K512m -RTS example.utf8.md --to docx+empty_paragraphs --from markdown+autolink_bare_uris+tex_math_single_backslash+smart+fenced_divs+bracketed_spans --output example.docx --highlight-style tango --lua-filter /home/travis/R/Library/rmarkdown/rmd/lua/pagebreak.lua --lua-filter /home/travis/R/Library/redoc/lua-filters/protect-empty.lua --eol=lf </div><div class='output co'>#&gt; <span class='message'></span>
#&gt; <span class='message'>Output created: example.docx</span></div><div class='input'>
<span class='co'># This is how each of these functions are defined in the redoc package</span>
<span class='no'>htmlcommentwrap</span> <span class='kw'>&lt;-</span> <span class='fu'>make_wrapper</span>(
    <span class='kw'>label</span> <span class='kw'>=</span> <span class='st'>"htmlcomment"</span>,
    <span class='kw'>regex</span> <span class='kw'>=</span> <span class='st'>"(?s)&lt;!--.*?--&gt;"</span>,
    <span class='kw'>type</span> <span class='kw'>=</span> <span class='st'>"inline"</span>)

<span class='no'>latexwrap</span> <span class='kw'>&lt;-</span> <span class='fu'>make_wrapper</span>(
    <span class='kw'>label</span> <span class='kw'>=</span> <span class='st'>"latex"</span>,
    <span class='kw'>regex</span> <span class='kw'>=</span> <span class='st'>"(?&lt;=[\n\r])\\\\\\w+.*?(?=[\n\r])"</span>,
    <span class='kw'>type</span> <span class='kw'>=</span> <span class='st'>"block"</span>)

<span class='no'>rawblockwrap</span> <span class='kw'>&lt;-</span> <span class='fu'>make_wrapper</span>(
    <span class='kw'>label</span> <span class='kw'>=</span> <span class='st'>"rawblock"</span>,
    <span class='kw'>regex</span> <span class='kw'>=</span> <span class='st'>"(?s)```\\{=\\w+\\}.*?```\\h*"</span>,
    <span class='kw'>type</span> <span class='kw'>=</span> <span class='st'>"block"</span>)

<span class='no'>rawspanwrap</span> <span class='kw'>&lt;-</span> <span class='fu'>make_wrapper</span>(
    <span class='kw'>label</span> <span class='kw'>=</span> <span class='st'>"rawspan"</span>,
    <span class='kw'>regex</span> <span class='kw'>=</span> <span class='st'>"(?s)`[^`]`\\{=\\w+?\\}"</span>,
    <span class='kw'>type</span> <span class='kw'>=</span> <span class='st'>"inline"</span>)

<span class='no'>citationwrap</span> <span class='kw'>&lt;-</span> <span class='fu'>make_wrapper</span>(
    <span class='kw'>label</span> <span class='kw'>=</span> <span class='st'>"citation"</span>,
    <span class='kw'>regex</span> <span class='kw'>=</span> <span class='st'>"(?:@\\w+|\\[.*?-?@\\w+.*?\\](?!\\[\\(\\{))"</span>,
    <span class='kw'>type</span> <span class='kw'>=</span> <span class='st'>"inline"</span>)</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Noam Ross.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.5.1.9000.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


